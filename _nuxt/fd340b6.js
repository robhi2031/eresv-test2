(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{681:function(e,t,o){"use strict";o.r(t);var n={name:"MasterUserWhs",data:function(){return{totalDataWhs:0,totalDataUserWhs:0,singleSelect:!1,dialogWhs:!1,loadingUserWhs:!0,loadingWhs:!0,allDataWhs:[],allDataUserWhs:[],selectedWhs:[],selectedUserWhs:[],optionWhs:{},optionUserWhs:{},dataUser:{},dataCompany:{},headerUserWhs:[{text:"Warehouse",value:"U_WhsCode"}],headerWhs:[{text:"Warehouse",value:"WhsCode"}]}},methods:{openWarehouse:function(e,t){this.dataCompany=Object.assign({},e),this.dataUser=Object.assign({},t),this.dialogWhs=!0,this.getWhs(this.dataUser,e),this.getUserWhs(this.dataUser,e)},addWhs:function(){var e=this;this.$axios.post("/api/master/add-whs",{form:this.selectedWhs,user:this.dataUser,company:this.dataCompany}).then((function(t){e.getWhs(e.dataUser,e.dataCompany),e.getUserWhs(e.dataUser,e.dataCompany),e.selectedUserWhs=[],e.selectedWhs=[]}))},removeWhs:function(){var e=this;this.$axios.post("/api/master/remove-whs",{form:this.selectedUserWhs,user:this.dataUser,company:this.dataCompany}).then((function(t){e.getWhs(e.dataUser,e.dataCompany),e.getUserWhs(e.dataUser,e.dataCompany),e.selectedUserWhs=[],e.selectedWhs=[]}))},getWhs:function(e,t){var o=this;this.$axios.get("/api/master/whs",{params:{options:this.optionWhs,type:"userCompany",user:e,company:t}}).then((function(e){o.loadingWhs=!1,o.allDataWhs=e.data.rows,o.totalDataWhs=e.data.total})).catch((function(e){o.loadingWhs=!1,console.log(e.response.data)}))},getUserWhs:function(e,t){var o=this;this.$axios.get("/api/master/user-whs",{params:{options:this.optionUserWhs,user:e,company:t}}).then((function(e){o.loadingUserWhs=!1,o.allDataUserWhs=e.data.rows,o.totalDataUserWhs=e.data.total})).catch((function(e){o.loadingUserWhs=!1,console.log(e.response.data)}))}}},r=o(62),l=o(70),h=o.n(l),c=o(87),d=o(102),W=o(43),v=o(294),m=o(474),U=o(996),_=o(225),f=o(104),C=o(296),y=o(224),k=o(458),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:e.dialogWhs,callback:function(t){e.dialogWhs=t},expression:"dialogWhs"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Warehouse "+e._s(e.dataUser.U_UserName))]),e._v(" "),o("v-spacer"),e._v(" "),o("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{icon:"",color:"green",dark:""},on:{click:e.addWhs}},"v-btn",r,!1),n),[o("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[e._v(" "),o("span",[e._v("Add User Warehouse")])]),e._v(" "),o("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{icon:"",color:"red",dark:""},on:{click:e.removeWhs}},"v-btn",r,!1),n),[o("v-icon",[e._v("mdi-minus-circle")])],1)]}}])},[e._v(" "),o("span",[e._v("Remove User Warehouse")])])],1),e._v(" "),o("v-card-text",[o("div",{staticClass:"mt-2"},[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,"item-key":"WhsCode","show-select":"",headers:e.headerWhs,items:e.allDataWhs,"items-per-page":5,"single-select":e.singleSelect,loading:e.loadingWhs},model:{value:e.selectedWhs,callback:function(t){e.selectedWhs=t},expression:"selectedWhs"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,"item-key":"U_DocEntry","show-select":"",headers:e.headerUserWhs,items:e.allDataUserWhs,"items-per-page":5,"single-select":e.singleSelect,loading:e.loadingUserWhs},model:{value:e.selectedUserWhs,callback:function(t){e.selectedUserWhs=t},expression:"selectedUserWhs"}})],1)],1)],1)],1)]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"red darken-1",text:"",small:""},on:{click:function(t){e.dialogWhs=!1}}},[e._v("\n        Close\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:c.a,VCard:d.a,VCardActions:W.a,VCardText:W.c,VCardTitle:W.d,VCol:v.a,VContainer:m.a,VDataTable:U.a,VDialog:_.a,VIcon:f.a,VRow:C.a,VSpacer:y.a,VTooltip:k.a})}}]);